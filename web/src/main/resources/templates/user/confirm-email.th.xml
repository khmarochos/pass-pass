<?xml version="1.0"?>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
    <thlogic>

        <attr sel="footer"
                th:replace="~{_snippets/footer :: footer}" />

        <attr sel="#title"
              th:text="#{web.resources.templates.user.confirm-email.title}"/>

        <attr sel="#apply-token-card">

            <attr sel="#apply-token-card-header">
                <attr sel="a"
                      th:text="#{web.resources.templates.user.confirm-email.apply-token-card-header}"
                      th:aria-expanded="${action == T(ua.tucha.passpass.web.controller.UserController).ACTION_APPLY_TOKEN} ? true : false"
                />
            </attr>

            <attr sel="#apply-token-collapse"
                  th:classappend="${action == T(ua.tucha.passpass.web.controller.UserController).ACTION_APPLY_TOKEN} ? 'show' : ''"
            />

            <attr sel="#apply-token-form"
                  th:object="${verificationTokenDTO}"
                  th:action="@{${T(ua.tucha.passpass.web.util.RouteRegistry$UserRouteRegistry).CONFIRM_EMAIL}}">

                <attr sel="#apply-token-token-field"
                      th:field="*{verificationToken}"
                      th:placeholder="#{web.resources.templates.user.confirm-email.apply-form.token-field.placeholder}"
                      th:errorclass="is-invalid" />
                <attr sel="#apply-token-token-field-feedback"
                      th:each="error: ${#fields.errors('verificationToken')}"
                      th:text="${error}"/>

            </attr>

        </attr>

        <attr sel="#order-token-card">

            <attr sel="#order-token-card-header">
                <attr sel="a"
                      th:text="#{web.resources.templates.user.confirm-email.order-token-card-header}"
                      th:aria-expanded="${action == T(ua.tucha.passpass.web.controller.UserController).ACTION_ORDER_TOKEN} ? true : false"
                />
            </attr>

            <attr sel="#order-token-collapse"
                  th:classappend="${action == T(ua.tucha.passpass.web.controller.UserController).ACTION_ORDER_TOKEN} ? 'show' : ''"
            />

            <attr sel="#order-token-form"
                  th:object="${emailDTO}"
                  th:action="@{
                        ${T(ua.tucha.passpass.web.util.RouteRegistry$UserRouteRegistry).CONFIRM_EMAIL} + '/' +
                        ${T(ua.tucha.passpass.web.controller.UserController).ACTION_ORDER_TOKEN}
                  }">

                <attr sel="#order-token-email-field"
                      th:field="*{email}"
                      th:placeholder="#{web.resources.templates.user.confirm-email.order-form.email-field.placeholder}"
                      th:errorclass="is-invalid" />
                <attr sel="#order-token-email-field-feedback"
                      th:each="error: ${#fields.errors('email')}"
                      th:text="${error}"/>

            </attr>

        </attr>

    </thlogic>
</html>
